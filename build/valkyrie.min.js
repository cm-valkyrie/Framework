"use strict";var VK_CLICK=document.ontouchstart?"touchend":"click";$(document).ready(function(){var n=$(this);n.on(VK_CLICK,"html,body",function(){$("*.open").removeClass("open")}),n.on(VK_CLICK,'[href=""],[disabled]',function(){return!1}),n.on(VK_CLICK,".dropmenu > button",function(n){n.stopPropagation(),$(".dropmenu > .dropdown.open").removeClass("open");var t=$(this).parent().find("> .dropdown");t.addClass("open"),t.find("a:not([href], [data-button-modal])").on(VK_CLICK,function(n){n.stopPropagation()})}),n.on(VK_CLICK,"[data-button-modal]",function(){var t=$(this).data("button-modal"),o=n.find('[data-modal="'+t+'"]');$("body").addClass("noscroll"),o.addClass("view").animate({scrollTop:0},300)}),$("[data-modal]").each(function(){var n=$(this),t=n.find("> div.content"),o=n.data("close-on-overlay"),a=n.find("[button-close]");function i(){$("body").removeClass("noscroll"),n.removeClass("view")}t.on(VK_CLICK,function(n){n.stopPropagation()}),!0===o&&n.on(VK_CLICK,function(){i()}),a.on(VK_CLICK,function(){i()})}),n.on(VK_CLICK,"[smooth-scroll]",function(n){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var t=$(this.hash);if((t=t.length?t:$("[name="+this.hash.slice(1)+"]")).length)return $("html,body").animate({scrollTop:t.offset().top},1e3),!1}})}),$.fn.modal=function(){var n=$(this),t=n.find("[button-cancel]"),o=n.find("[button-success]"),a={myModal:n,open:function(){$("body").addClass("noscroll"),n.addClass("view").animate({scrollTop:0},300)},close:function(){$("body").removeClass("noscroll"),n.removeClass("view")},onCancel:function(n){t.on(VK_CLICK,function(){null!=n&&n(),a.close()})},onSuccess:function(n){o.on(VK_CLICK,function(){null!=n&&n(a)})}};return a},$.fn.parallax=function(n,t){var o=$(this),a={},i=$(document),e="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;function s(){if(i.scrollTop()>=a.startParallax){var n=(i.scrollTop()-a.startParallax)/a.speed;a.parallax.css({"-webkit-transform":"translate(0px, "+a.direction+n+"px)",transform:"translate(0px, "+a.direction+n+"px)"})}else a.parallax.css({"-webkit-transform":"translate(0px, 0px)",transform:"translate(0px, 0px)"})}a.parallax=o.find("[data-parallax]"),a.pixelsTop=o.offset().top,a.startParallax=a.pixelsTop-$(window).height(),a.speed=n||5,a.direction="up"==t?"-":"",i.each(function(){s()}).on("scroll",function(){s()}),e&&i.on("touchmove",function(){s()})},$.fn.scrollDown=function(n,t,o){var a=$(this);function i(){o.scrollTop()>t?a.addClass(n):a.removeClass(n)}o||(o=$(document)),o.each(function(){i()}).on("scroll",function(){i()})},$.fn.toggles=function(n=!1){var t=$(this);t.find("section.toggle.view > div").show(),this.on(VK_CLICK,"section.toggle > h3",function(){var o=$(this).parents("section.toggle");1==n?o.hasClass("view")?(o.removeClass("view"),o.find("> div").slideUp(300)):(o.addClass("view"),o.find("> div").slideDown(300)):o.hasClass("view")||(t.find("section.toggle.view").removeClass("view"),o.addClass("view"),t.find("section.toggle > div").slideUp(300),o.find("> div").slideDown(300))})},$.fn.multiTabs=function(){var n=null,t={myTab:this,tabActive:null,onInit:function(n){$.isFunction(n)&&n()},onChange:function(t){$.isFunction(t)&&(n=t)},goTab:function(o=!1){return 0!=o&&(t.tabActive!=o&&(!!t.myTab.find('[data-target="'+o+'"]').length&&(t.tabActive=o,$.isFunction(n)&&n(),t.myTab.find("[data-tab-target]").removeClass("active"),t.myTab.find("[data-target]").slideUp(300),t.myTab.find('[data-tab-target="'+o+'"]').addClass("active"),void t.myTab.find('[data-target="'+o+'"]').slideDown(300))))}};return this.each(function(){t.onInit(),t.goTab($(this).data("tab-active"))}),this.on(VK_CLICK,"[data-tab-target]:not([disabled])",function(){t.goTab($(this).data("tab-target"))}),t};
